<h1>Soll (OTF) setzen</h1>
<loading *ngIf="!companies"></loading>
<div class="thumbnail" style="margin-top:50px;" *ngIf="companies">
    <div class="caption">
        <form #changeForm (ngSubmit)="correctIdeal()">
            <div class="form-group">
                <label for="selectedCompany">Kompanie</label>
                <ng-select name="selectedCompany" [items]="companies" [addTag]="false" bindLabel="name" [(ngModel)]="selectedCompany"
                    required="required" placeholder="Kompanie auswählen ...">
                </ng-select>
            </div>

            <div class="form-group" *ngIf="selectedCompany">
                <label for="selectedMaterial">Grad</label>
                <ng-select name="selectedGrade" [items]="gradeList" [addTag]="false"
                    [(ngModel)]="selectedGrade" required="required" placeholder="Grad auswählen ..." (change)="loadAllocation()">
                </ng-select>
            </div>

            <div class="row">
                <!-- TODO add own allocaition component 
                <allocation [allocation]="allocation" [loading]="loadingAllocation"></allocation>
                -->
            </div>

            <div class="form-group" *ngIf="selectedGrade">
                <label for="changeAmount">Neuer Soll-Bestand (absolut)</label>
                <input type="number" class="form-control" [(ngModel)]="changeAmount" name="changeAmount"
                 required="required"
                 (input)="onAmountChanged()">
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <button type="submit" [disabled]="!selectedGrade && changeAmount == undefined" class="btn btn-large btn-block btn-primary">Speichern</button>
                </div>
                <div class=col-lg-6>
                    <button type="button" class="btn btn-large btn-block btn-secondary pull-right" (click)="cancel()">Abbrechen</button>
                </div>
            </div>
        </form>
    </div>
</div>